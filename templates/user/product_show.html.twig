{% extends 'layouts/user.html.twig' %}

{% block title %}{{ product.name }} - AutiGuide{% endblock %}

{% block user_content %}
<a href="{{ path('user_products') }}" class="inline-flex items-center gap-2 text-[#6B7280] hover:text-[#A7C7E7] mb-6 focus:outline focus:ring-2 focus:ring-[#A7C7E7] rounded">
    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
    Retour aux produits
</a>

<div class="flex flex-col lg:flex-row gap-8 lg:gap-12 mb-12">
    <div class="lg:w-1/2 space-y-4">
        <div class="aspect-square bg-[#F5F1EB] rounded-2xl flex items-center justify-center text-[#6B7280] overflow-hidden">
            Image produit
        </div>
        <div class="grid grid-cols-4 gap-2">
            {% for i in 1..4 %}
            <div class="aspect-square bg-[#E5E0D8] rounded-lg flex items-center justify-center text-[#6B7280] text-xs">Image {{ i }}</div>
            {% endfor %}
        </div>
    </div>

    <div class="lg:w-1/2">
        <span class="inline-block px-2 py-1 rounded text-xs font-medium text-white {{ product.category_class }}">{{ product.category }}</span>
        <h1 class="text-2xl md:text-3xl font-bold text-[#4B5563] mt-3 mb-2">{{ product.name }}</h1>
        <p class="text-[#6B7280] text-sm mb-4">★ {{ product.rating }} ({{ product.reviews }} avis)</p>
        <p class="text-xl font-semibold text-[#A7C7E7] mb-4">{{ product.price }} €</p>
        <p class="text-[#6B7280] mb-6">{{ product.description_long }}</p>

        <div class="mb-6">
            <label class="block text-[#4B5563] font-medium mb-2">Quantité</label>
            <div class="inline-flex items-center border border-[#E5E0D8] rounded-lg overflow-hidden">
                <button type="button" class="px-4 py-2 bg-[#F5F1EB] text-[#6B7280] hover:bg-[#E5E0D8] focus:outline focus:ring-2 focus:ring-[#A7C7E7]">−</button>
                <input type="number" value="1" min="1" class="w-14 text-center border-0 bg-white text-[#4B5563] focus:ring-0 py-2">
                <button type="button" class="px-4 py-2 bg-[#F5F1EB] text-[#6B7280] hover:bg-[#E5E0D8] focus:outline focus:ring-2 focus:ring-[#A7C7E7]">+</button>
            </div>
        </div>

        <div class="mb-6">
            <p class="text-[#4B5563] font-medium mb-3">Paiement</p>
            <label class="flex items-center gap-2 text-[#6B7280] mb-2">
                <input type="radio" name="payment" value="online" checked class="rounded-full border-[#E5E0D8] text-[#A7C7E7] focus:ring-[#A7C7E7]">
                Paiement en ligne
            </label>
            <label class="flex items-center gap-2 text-[#6B7280]">
                <input type="radio" name="payment" value="store" class="rounded-full border-[#E5E0D8] text-[#A7C7E7] focus:ring-[#A7C7E7]">
                Paiement en magasin
            </label>
        </div>

        <div class="flex flex-wrap items-center gap-3 mb-8">
            <a href="#" class="inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-[#A7C7E7] text-white font-medium hover:bg-[#B8D4ED] focus:outline focus:ring-2 focus:ring-[#A7C7E7]">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                Ajouter au panier
            </a>
            <button type="button" class="p-3 rounded-lg border border-[#E5E0D8] text-[#6B7280] hover:bg-[#F5F1EB] focus:outline focus:ring-2 focus:ring-[#A7C7E7]" aria-label="Ajouter aux favoris">
                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
            </button>
        </div>

        <div class="flex flex-wrap gap-6 text-sm text-[#6B7280]">
            <span class="flex items-center gap-2"><svg class="w-5 h-5 text-[#A7C7E7]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75L12 15.75m0 0l3.75 3M12 15.75V2.25" /></svg> Livraison gratuite</span>
            <span class="flex items-center gap-2"><svg class="w-5 h-5 text-[#A7C7E7]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg> Paiement sécurisé</span>
            <span class="flex items-center gap-2"><svg class="w-5 h-5 text-[#A7C7E7]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" /></svg> Retour 30 jours</span>
        </div>
    </div>
</div>

{# Caractéristiques / Bienfaits #}
<div class="bg-white rounded-2xl border border-[#E5E0D8] shadow-sm overflow-hidden mb-12">
    <div class="border-b border-[#E5E0D8] flex">
        <button type="button" class="tab-btn px-6 py-4 font-semibold border-b-2 border-[#A7C7E7] bg-[#F5F1EB]/50 text-[#4B5563]" data-tab="characteristics">Caractéristiques</button>
        <button type="button" class="tab-btn px-6 py-4 font-semibold text-[#6B7280] border-b-2 border-transparent hover:text-[#4B5563]" data-tab="benefits">Bienfaits</button>
    </div>
    <div class="p-6" id="tab-characteristics">
        <ul class="space-y-2 text-[#6B7280]">
            {% for item in product.characteristics %}
            <li class="flex items-start gap-2"><span class="text-[#A7C7E7] mt-1">•</span> {{ item }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="p-6 hidden" id="tab-benefits">
        <ul class="space-y-2 text-[#6B7280]">
            {% for item in product.benefits %}
            <li class="flex items-start gap-2"><span class="text-[#A7C7E7] mt-1">•</span> {{ item }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

<script>
document.querySelectorAll('.tab-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
        var tab = this.getAttribute('data-tab');
        document.querySelectorAll('.tab-btn').forEach(function(b) {
            b.classList.remove('border-[#A7C7E7]', 'bg-[#F5F1EB]/50', 'text-[#4B5563]');
            b.classList.add('border-transparent', 'text-[#6B7280]');
        });
        this.classList.add('border-[#A7C7E7]', 'bg-[#F5F1EB]/50', 'text-[#4B5563]');
        this.classList.remove('border-transparent', 'text-[#6B7280]');
        document.getElementById('tab-characteristics').classList.toggle('hidden', tab !== 'characteristics');
        document.getElementById('tab-benefits').classList.toggle('hidden', tab !== 'benefits');
    });
});
</script>
{% endblock %}
